---
const locale = Astro.currentLocale;
const requestPathname = Astro.url.pathname;

let newUrl = `/${requestPathname}`;



if (locale) {
  // remove the locale from the url
  newUrl = requestPathname.replace(`/${locale}`, "/");
  if (locale === "en") {
    newUrl = "/fr";
  }
}
---

<box>
  <p>here is locale: {locale}</p>

  <br>


  <p>here is newUrl: {newUrl}</p>
  
  {locale}
  
  <br>{requestPathname}

  <br>

  <br>
  <a href={newUrl}>{locale === 'en' ? "English 🏴󠁧󠁢󠁥󠁮󠁧󠁿" : "Français 🇫🇷"}</a>
</box>

<style>
  box {
    position: absolute;
    top: 1rem;
    right: 0;
  }

  a {
    color: inherit;
    border: 1px solid;
    padding: 0.5rem 1rem;
    text-decoration: none;
    outline-offset: 0.1rem;
    outline: unset;
  }
</style>
