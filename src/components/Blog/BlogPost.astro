---
import BackArrow from "@components/Global/BackArrow.astro";
import BlogContent from "@components/Blog/BlogContent.astro";
import BlogPostHeader from "@components/Blog/BlogPostHeader.astro";

const { post, showBackLink = true, showDate = true, collection = 'blog' } = Astro.props;
const { Content } = await post.render();
---

<article class="content post layout-inner">
  <BlogPostHeader
    date={showDate && post.data.date}
    title={post.data.title}
    isPreview={false}
    slug={post.slug}
  />

  <BlogContent>
    <Content />
  </BlogContent>

  {
    showBackLink && (
      <BackArrow url={`/${collection}`} title={`Back to all ${collection} posts`} />
    )
  }
</article>

<style>
  .content {
    margin-block-end: 8rem;
  }

  .content :global(main > * + *) {
    margin-block-start: 1rem;
  }
</style>
