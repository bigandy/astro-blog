---
import { Temporal } from "@js-temporal/polyfill";
import type { HTMLAttributes } from "astro/types";


const { date, showLine = false, ...attrs } = Astro.props;

interface Props extends HTMLAttributes<"h3"> {
	date: string;
	showLine?: boolean;
}
const temporalDate = Temporal.PlainDate.from(date);

const options = {
  weekday: "long",
  year: "numeric",
  month: "long",
  day: "numeric",
};
// @ts-expect-error
const dateString = temporalDate.toLocaleString("en-GB", options);
---

<time
    class={`${showLine ? "show-line" : ""} ${attrs.class}`}
    {...attrs}
>
    {dateString}
</time>

<style>
    .publish-date {
        color: var(--theme-text-lighter);
        font-size: var(--font-size--2);
        font-family: var(--header-font-family);
        max-width: content;
    }

    .show-line {
        display: grid;
        grid-template-columns: auto max-content auto;
        gap: 1rem;
        align-items: center;
        text-align: center;

        &::before,
        &::after {
            content: "";
            display: block;
            height: 1px;
            background: currentColor;
        }
    }
</style>
