---
import {
	type Collection,
	getAllPosts,
} from '@components/Blog/utils/getAllPosts'
import BlogPostPreview from '../BlogPostPreview.astro'

// Take 10 latest posts for the moment until I learn how to do pagination with Astro!

interface Props {
	number: number
	collection?: Collection
}

const { number = 9, collection = 'blog' } = Astro.props

const allPosts = await getAllPosts(collection, number)
---

{allPosts.map((p) => {
	return <BlogPostPreview postIndex={p.postIndex} post={p} collection={collection} />
})}
