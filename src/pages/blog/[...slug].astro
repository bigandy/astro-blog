---
import {
  getCollection,
  CollectionEntry,
} from "astro:content";

// Component Imports
import BlogLayout from "../../layouts/BlogLayout.astro";
import BlogPost from "../../components/Blog/BlogPost.astro";

export async function getStaticPaths() {
  const posts = await getCollection("blog");
  return posts.map((post) => {
    return {
      params: {
        slug: post.slug,
      },
      props: {
        post,
      },
    };
  });
}

// If set up correctly, The page prop now has everything that
// you need to render a single page (see next section).

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<BlogLayout title={post.data.title}>
  <BlogPost post={post} />
</BlogLayout>
<style>
  .top-nav {
    margin-bottom: 2em;
  }
  body {
    --theme-accent: var(--theme-accent-blue);
  }
</style>
